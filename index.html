<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- Meta tag per Web App iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="MA CHE NE SO">
    <link rel="apple-touch-icon" href="goku.png">

    <!-- Meta tag per Android / Chrome -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#FDFDFD">
    
    <!-- Web App Manifest (Inline per compatibilità immediata) -->
    <link rel="manifest" href='data:application/manifest+json,{"name":"Sono il migliore","short_name":"Migliore","start_url":".","display":"standalone","background_color":"#FDFDFD","theme_color":"#FDFDFD"}'>

    <title>Scegli la migliore!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --cart-yellow: #FFF4BD;
            --cart-pink: #FFD1DC;
            --cart-cyan: #B2EBF2;
            --cart-orange: #FFCCBC;
            --cart-green: #C8E6C9;
            --cart-black: #2D3436; 
        }

        html, body {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: #FDFDFD;
            font-family: 'Fredoka', sans-serif;
            touch-action: manipulation;
        }

        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: env(safe-area-inset-top) 6px env(safe-area-inset-bottom) 6px;
        }

        .cards-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
            width: 100%;
            height: 98vh;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
        }

        .card {
            width: 98%;
            background: white;
            border: 5px solid var(--cart-black);
            border-radius: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
            text-align: center;
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease-out;
            box-shadow: 0 10px 0 var(--cart-black);
            font-weight: 700;
            font-size: clamp(1rem, 5vw, 1.35rem);
            color: var(--cart-black);
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            min-height: 150px;
        }

        .card:active {
            transform: scale(0.96);
        }

        /* Layout espansione asimmetrica */
        .card:nth-child(1) { 
            flex-grow: 1; 
            background-color: var(--cart-pink); 
            outline: 6px solid white; 
            outline-offset: -16px; 
        }
        
        .card:nth-child(2) { 
            flex-grow: 0; 
            height: 25vh; 
            background-color: var(--cart-cyan); 
            outline: 6px solid white; 
            outline-offset: -16px; 
        }
        
        .card:nth-child(3) { 
            flex-grow: 1; 
            background-color: var(--cart-yellow); 
            outline: 6px solid white; 
            outline-offset: -16px; 
        }

        @media (min-width: 768px) {
            .cards-container {
                flex-direction: row;
                max-width: 1200px;
                height: auto;
                gap: 20px;
            }
            .card, .card:nth-child(2) {
                width: 30%;
                height: 400px;
                flex-grow: 0;
            }
        }

        #fullscreenOverlay {
            position: fixed;
            inset: 0;
            background: rgba(255, 255, 255, 0.98);
            display: none;
            z-index: 100;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 16px;
        }

        .full-card {
            width: 94%;
            max-width: 450px;
            aspect-ratio: 1 / 1.35;
            background: white;
            border: 6px solid var(--cart-black);
            border-radius: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 35px;
            text-align: center;
            font-size: clamp(1.4rem, 8vw, 2.2rem);
            font-weight: 700;
            box-shadow: 0 16px 0 var(--cart-black);
            animation: popInBounce 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        @keyframes popInBounce {
            0% { transform: scale(0.2) rotate(-15deg); opacity: 0; }
            70% { transform: scale(1.05) rotate(2deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .close-btn {
            margin-top: 30px;
            background: var(--cart-orange);
            border: 4px solid var(--cart-black);
            padding: 18px 50px;
            border-radius: 60px;
            font-weight: 700;
            font-size: 1.3rem;
            cursor: pointer;
            box-shadow: 0 8px 0 var(--cart-black);
            -webkit-tap-highlight-color: transparent;
            transition: transform 0.2s;
            opacity: 0;
            animation: fadeIn 0.4s ease forwards 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .close-btn:active {
            transform: translateY(5px);
            box-shadow: 0 3px 0 var(--cart-black);
        }
    </style>
</head>
<body>

    <div class="cards-container" id="mainGrid">
        <div class="card" onclick="selectCard(this)"></div>
        <div class="card" onclick="selectCard(this)"></div>
        <div class="card" onclick="selectCard(this)"></div>
    </div>

    <div id="fullscreenOverlay">
        <div class="full-card" id="fullCardContent"></div>
        <button class="close-btn" onclick="closeOverlay()">PROSSIME CARTE</button>
    </div>

    <script>
        const phrases = [
            "Quando chiami la vacca, mucca",
            "Quando Domenica dice arrivo, ma è ancora in pigiama",
            "Quando tra due settimane hai l’esame e mettono l’ennesima riunione",
            "Ma quando? ma chi? ma come?",
            "Quando ti chiedono di scegliere tra la vita sociale e la soia",
            "No raga, non me lo avete mai detto",
            "Quando Erica legge il messaggio 17 volte prima di inviarlo",
            "Quando Erica ride da sola per una cosa successa 2 anni fa",
            "Quando un bambino vomita e sei l’unica che si sveglia",
            "Quando ti chiedono di passare l’acqua, ma tu hai problemi di schiena",
            "Quando non hai capito cosa ti hanno detto, ma fingi di ridere, nella speranza fosse una battuta",
            "Quando l’hobgoblin finisce",
            "Quando tu e le tue amiche vi dite “solo un drink” e poi tornate a casa alle 3",
            "Quando esci dalla macchina e cadi",
            "Quando Erica ti manda l’ennesimo sticker di star wars",
            "Quando devi trovarti alle 7 a Portici e chiedi a qualcuno di farti compagnia",
            "Quando Nicola dice ad Erica “stai zitta”",
            "Quando Erica monta la tenda ma le avanza un pezzo",
            "Quando dici ad Erica di scendere, ma è alle prese con le mille porte, l’immondizia e la colonia di gatti",
            "Quando vai a ballare, ma sono le 2:30",
            "Quando ricambi il saluto, ma in realtà non stavano salutando te",
            "Quando stai per discutere la tesi ma sei emozionatissima",
            "Quando vuoi ordinare patatine cheddar e bacon, ma le altre le vogliono semplici",
            "Quando ti autoinviti a casa di Erica, ma lei dice “non posso, non ho sistemato”",
            "Quando i tuoi amici hanno la puff, ma la usi solo tu",
            "Quando Daniele ha paura, ma resta comunque il tuo lupetto preferito",
            "Quando guardi un ulivo ed Erica dice “no, è un olea europaea”",
            "Quando osi scambiare una vespa per un bombo",
            "Quando ti propongo di bere una coca, ma preferiresti altro",
            "Quando tua zia ti chiede “e il fidanzatino?”",
            "Quando il prof dice ‘Non vi ruberò troppo tempo’ e poi inizia un TED talk.",
            "Io che cerco la motivazione come se fosse un Pokémon raro.",
            "Quando realizzi che la scadenza era ieri.",
            "Il mio ultimo neurone durante la discussione della tesi.",
            "Io che faccio del mio meglio, ma la vita continua a darmi tutorial di sopravvivenza.",
            "Quando pensavo di avere tutto sotto controllo e invece no.",
            "Io che cerco di sembrare adulta anche se non ho idea di cosa sto facendo.",
            "Io che provo a funzionare con il 3% di batteria mentale.",
            "Il momento in cui ti rendi conto che hai messo like a una foto del 2016 di una persona che stalkeravi",
            "Quando sei in un cinema vuoto e si siedono proprio affianco a te.",
            "Quando qualcuno ti sta così antipatico che anche il rumore del suo respiro ti infastidisce.",
            "Quando sei introverso e ti dicono “dai andiamo a salutare” e vuoi sparire.",
            "Quando qualcuno ti chiede “come stai?” e devi inventare qualcosa di convincente.",
            "Quando pensavo di essere solo a casa e senti un rumore sospetto.",
            "Quando sei di fretta, ma le persone davanti a te non ne vogliono sapere di accelerare il passo",
            "Quando per l’ennesima volta ti chiedono di riconoscere una pianta solo perché fai l’agrario",
            "Quando il rover in route ti dice “Ah perché lo svelto dovevo portarlo io?”",
            "Quando ricevi messaggi gentili da un numero sconosciuto",
            "Quando leggi la prima domanda di esami e capisci di non aver studiato abbastanza",
            "Quando un bimbo ti regala un disegno buffo, ma deve rispondere “oddio, bellissimo!!”",
            "Quando vedi una persona che conosci da lontano e devi decidere se salutarla o fingere la cecità",
            "Quando mandi un vocale da 3 minuti e ti rispondono “ok”",
            "Quando provi a raccontare una storia e qualcuno ti interrompe con “lo so già”",
            "Quando ti chiedono “ma tu cosa vuoi dalla vita?” mentre stai solo cercando un parcheggio"
        ];

        let isSelecting = false;

        function shuffleAndFill() {
            const shuffled = [...phrases].sort(() => 0.5 - Math.random());
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                card.textContent = shuffled[index];
            });
            isSelecting = false;
        }

        function selectCard(element) {
            if (isSelecting) return;
            isSelecting = true;
            const overlay = document.getElementById('fullscreenOverlay');
            const fullContent = document.getElementById('fullCardContent');
            fullContent.textContent = element.textContent;
            fullContent.style.backgroundColor = getComputedStyle(element).backgroundColor;
            overlay.style.display = 'flex';
        }

        function closeOverlay() {
            document.getElementById('fullscreenOverlay').style.display = 'none';
            shuffleAndFill();
        }

        window.onload = shuffleAndFill;
    </script>
</body>
</html>